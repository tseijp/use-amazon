{"version":3,"sources":["docs/serviceWorker.ts","src/components/Scanner.tsx","src/components/Sheet.tsx","src/components/Slider.tsx","docs/components/Book.tsx","src/hooks.tsx","docs/components/Button.tsx","docs/index.tsx"],"names":["Boolean","window","location","hostname","match","Quagga","require","Scanner","onStarted","onDetected","onStartedRef","useRef","bool","onDetectedRef","code","useEffect","init","config","err","console","log","current","start","stop","drawRect","box","drawingCtx","color","lineWidth","ImageDebug","drawPath","x","y","onProcessed","result","canvas","ctx","overlay","drawingCanvas","dom","boxes","clearRect","Number","getAttribute","filter","forEach","codeResult","line","id","className","style","width","height","top","bottom","Sheet","children","started","onOpen","onClose","useSpring","set","open","useCallback","canceled","wobbly","stiff","close","velocity","bind","useDrag","last","vy","vxvy","movement","mx","my","cancel","immediate","initial","get","filterTaps","bounds","rubberband","f","useMemo","display","to","py","backgroundColor","div","Slider","visible","idx","l","length","getPos","i","firstVis","firstVisIdx","useSprings","springs","prev","wheelOffset","dragOffset","runSprings","xy","vxy","Math","floor","position","prevPosition","rank","configPos","tension","friction","useGesture","onDrag","offset","vx","onWheel","left","map","key","willChange","Book","url","limit","book","urltext","size","isssl","searches","host","getsrc","num","isbns","useState","img","setImg","image","Image","srcRef","path","paths","URL","pathname","split","v","index","find","isbn","_","name","ref","push","parseInt","onError","pre","len","src","slice","alt","onload","useAmazon","canopen","scale","onHover","e","hovering","down","onClick","styles","padding","zIndex","pointerEvents","span","Button","opened","molasses","items2","App","urls","setUrls","setBook","books","setBooks","setOpened","setStarted","addURL","newURL","addBook","innerHeight","fontSize","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"2lBAYoBA,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,YCdAC,G,MAASC,EAAS,KAOjB,SAASC,EAAT,GAAyD,IAAtCC,EAAqC,EAArCA,UAAWC,EAA0B,EAA1BA,WAC3BC,EAAeC,kBAAO,SAACC,GAAD,OAAgBJ,EAAUI,MAChDC,EAAiBF,kBAAO,SAACG,GAAD,OAAeL,EAAWK,MA6CxD,OA5CAC,qBAAW,WAQP,OAPAV,EAAOW,KAAKC,GAAQ,SAACC,GACjB,GAAIA,EACA,OAAOC,QAAQC,IAAIF,EAAK,aAC5BR,EAAaW,SAAQ,GACrBhB,EAAOiB,QACPH,QAAQC,IAAI,4BAET,WACHf,EAAOkB,OACPb,EAAaW,SAAQ,GACrBF,QAAQC,IAAI,2BAEjB,IACHL,qBAAU,WAEN,IAAMS,EAAW,SAAC,GAA8D,IAA7DC,EAA4D,EAA5DA,IAAIC,EAAwD,EAAxDA,WAAwD,IAA7CC,aAA6C,MAAvC,QAAuC,MAA/BC,iBAA+B,MAArB,EAAqB,EAC3EvB,EAAOwB,WAAWC,SAASL,EAAK,CAACM,EAAE,EAAEC,EAAE,GAAIN,EAAY,CAACC,QAAMC,eAElEvB,EAAO4B,aAAY,SAACC,GAChB,IAAIR,EAAarB,EAAO8B,OAAOC,IAAIC,QAC/BC,EAAgBjC,EAAO8B,OAAOI,IAAIF,QACjCH,IAEDA,EAAOM,QACPd,EAAWe,UAAU,EAAE,EACnBC,OAAOJ,EAAcK,aAAa,UAClCD,OAAOJ,EAAcK,aAAa,YAEtCT,EAAOM,MACFI,QAAQ,SAACnB,GAAD,OAAaA,IAAMS,EAAOT,OAClCoB,SAAS,SAACpB,GAAD,OAAaD,EAAS,CAACC,MAAKC,mBAE1CQ,EAAOT,KAAKD,EAAS,CAACC,IAAIS,EAAOT,IAAIC,aAAWC,MAAM,SACrDO,EAAOY,YAAeZ,EAAOY,WAAWhC,OAE7CT,EAAOwB,WAAWC,SACdI,EAAOa,KAAM,CAAChB,EAAE,IAAIC,EAAE,KACtBN,EAAa,CAACC,MAAM,MAAMC,UAAU,IAExCvB,EAAOI,YAAY,SAACyB,GAAD,OAAgBrB,EAAcQ,QAAQa,EAAOY,WAAWhC,gBAEhF,IAEI,yBAAKkC,GAAG,cAAcC,UAAU,WAAWC,MAAO,CAACC,MAAM,OAAOC,OAAO,OAAOC,IAAI,EAAEC,OAAO,K,iCC7C/F,SAASC,EAAT,GAA6F,IAA5EC,EAA2E,EAA3EA,SAA2E,IAAjEJ,cAAiE,MAA1D,IAA0D,MAArDK,eAAqD,aAAtCC,cAAsC,MAA/B,KAA+B,MAA1BC,eAA0B,MAAlB,KAAkB,IAC1EC,qBAAU,iBAAO,CAAE5B,EAAEoB,MADqD,mBACtFpB,EADsF,KACtFA,EAAK6B,EADiF,KAEzFC,EAAKC,uBAAY,eAACC,EAAD,+DAAmBN,IAASA,IAAUG,EAAI,CAAE7B,EAAE,EAAQf,OAAO+C,EAAS/C,SAAOgD,OAAOhD,SAAOiD,WAAW,CAACR,EAAQG,IAChIM,EAAQJ,uBAAY,eAACK,EAAD,uDAAU,EAAV,OAAeT,IAAUA,IAAUE,EAAI,CAAE7B,EAAEoB,EAAQnC,OAAO,2BAAIA,SAAOiD,OAAZ,IAAmBE,kBAAe,CAAChB,EAAQO,EAASE,IACjIQ,EAAOC,aACT,YAAoD,IAAjDC,EAAgD,EAAhDA,KAAaC,EAAmC,cAA1CC,KAA0C,sBAA/BC,SAA+B,GAArBC,EAAqB,KAAlBC,EAAkB,KAAbC,EAAa,EAAbA,OAElC,GADID,GAAIxB,EAAO,GAAGyB,GAAQA,IACtBN,EAAM,OAAUK,EAAU,GAAPxB,GAAYoB,EAAG,OAAU,IAAIG,GAAIA,EAAG,IAAQR,EAAMK,GAAIV,EAAKU,EAAG,GACrFX,EAAI,CAAE7B,EAAE4C,EAAIE,WAAW,EAAO7D,OAAQA,SAAOiD,UAC9C,CAAEa,QAAQ,iBAAI,CAAC,EAAE/C,EAAEgD,QAAQC,YAAW,EAAMC,OAAO,CAAC7B,IAAI,GAAI8B,YAAW,IAExEC,EAAIzE,kBAAO,SAACC,GAAD,OAAkBA,EAAMkD,IAASK,OAClDpD,qBAAU,WAAMqE,EAAE/D,QAAQoC,KAAY,CAACA,IACvC,IAAMP,EAAQmC,mBAAQ,WAGlB,MAAO,CAACC,QAFQtD,EAAEuD,IAAG,SAAAC,GAAE,OAAKA,EAAKpC,EAAS,QAAU,UAEnCqC,gBADO,gBACUnC,OAAO,iBAAD,OAAkBF,EAAO,IAAzB,OAAmCpB,OAC7E,CAACoB,EAAQpB,IAEX,OACI,kBAAC,WAAS0D,IAAV,eAAczC,UAAU,SAAYoB,IAApC,CAA4CnB,MAAOA,IAC9CM,GCrBN,SAASmC,EAAT,GAAwE,IAAtDnC,EAAqD,EAArDA,SAAqD,IAA3CL,aAA2C,MAArC,IAAqC,MAAjCyC,eAAiC,MAAzB,EAAyB,MAAvB1C,aAAuB,MAAjB,GAAiB,EACpE2C,EAAM9B,uBAAY,SAAChC,GAAD,IAAG+D,EAAH,uDAAKtC,EAASuC,OAAd,OAA0BhE,EAAE,EAAIA,EAAE+D,EAAI/D,GAAK+D,IAAG,CAACtC,IACjEwC,EAASjC,uBAAY,SAACkC,EAAGC,EAAUC,GAAd,OAA8BN,EAAII,EAAIC,EAAWC,KAAc,CAACN,IAFjB,EAGnDO,qBAAW5C,EAASuC,QAAQ,SAAAE,GAAC,MAAK,CAAElE,GAAKkE,EAAEzC,EAASuC,OAAO,EAAEE,GAAG,GAAG9C,MAHhB,mBAGnEkD,EAHmE,KAG1DxC,EAH0D,KAIpEyC,EAAc3F,iBAAO,CAAC,EAAG,IACzB4F,EAAc5F,iBAAO,GACrB6F,EAAc7F,iBAAO,GACrB8F,EAAa1C,uBAAY,SAAC2C,EAAIC,GAChC,IAAMT,EAAWL,EAAIe,KAAKC,MAAMH,EAAKvD,GAASK,EAASuC,QACjDI,EAAcQ,EAAM,EAAInD,EAASuC,OAASH,EAAU,EAC1D/B,GAAI,SAACoC,GACD,IAAMa,EAAed,EAAOC,EAAGC,EAAiBC,GAC1CY,EAAef,EAAOC,EAAGK,EAAKjF,QAAQ,GAAIiF,EAAKjF,QAAQ,IACvD2F,EAAOd,GAAYQ,EAAG,EAAElD,EAASuC,OAAO,GAAKe,EAAWX,EACxDc,EAAYN,EAAM,EAAIG,EAAWtD,EAASuC,OAASe,EACzD,MAAO,CACH/E,GAAK2E,GAAMvD,EAAQK,EAASuC,QAAW5C,EAAQ6D,EAC/ClC,UAAW6B,EAAM,EAAII,EAAeD,EAAWC,EAAeD,EAC9D7F,OAAQ,CAAEiG,QAA6C,KAAnC,EAAI1D,EAASuC,OAASkB,GAAkBE,SAAU,GAAiB,GAAZF,OAGnFX,EAAKjF,QAAU,CAAC6E,EAAUC,KAC3B,CAACN,EAAKG,EAAQ7C,EAAOyC,EAAS/B,EAAKL,EAASuC,SACzC1B,EAAO+C,YAAW,CACpBC,OAAQ,YAA6B,IAAnBtF,EAAkB,cAA1BuF,OAA0B,MAARC,EAAQ,cAAd9C,KAAc,MAAI8C,IAAIf,EAAWnF,SAASU,EAAE0E,EAAWF,EAAYlF,QAAQU,GAAIwF,KACrGC,QAAQ,YAA6B,IAAlBxF,EAAiB,cAA1BsF,OAA0B,MAAP9C,EAAO,cAAdC,KAAc,MAAID,IAAIgC,EAAWnF,QAASW,EAAEyE,EAAWF,EAAYlF,QAAQW,EAAIwC,OAIzG,OACI,yCAASH,IAAT,CAAiBnB,MAAO,CAAC4D,SAAS,WAAWxD,OAAO,EAAEmE,KAAK,EAAEtE,MAAM,OAAOC,OAAO,UAC9EiD,EAAQqB,KAAI,WAAMzB,GAAN,IAAElE,EAAF,EAAEA,EAAF,OACX,kBAAC,WAAS2D,IAAV,CAAciC,IAAK1B,EAAG/C,MAAK,aAAG4D,SAAS,WAAW/E,IAAE6F,WAAW,aAAe1E,IACzEM,EAASyC,QClCnB,SAAS4B,EAAT,GAAiE,IAAD,IAAhDC,WAAgD,MAA5C,GAA4C,MAAxCC,aAAwC,MAAlC,IAAkC,MAA7B7E,aAA6B,MAAvB,GAAuB,EAAnBQ,EAAmB,EAAnBA,OAC1CsE,ECPH,WAAyF,IAArEC,EAAoE,uDAA5D,GAA4D,yDAAJ,GAAI,IAAvDC,YAAuD,MAAlD,WAAkD,MAAvCC,aAAuC,aAA3BC,gBAA2B,MAAlB,GAAkB,EACrFC,EAAOhD,mBAAQ,2BAAQ8C,EAAM,wBAAwB,aAAtC,gBAAgE,CAACA,IAChFG,EAASvE,uBAAY,SAACwE,GAAD,uBAA+BF,EAA/B,qBAAgDE,EAAhD,eAA0DL,KAAO,CAACG,EAAKH,IAC5FM,EAAQ7H,iBAAiB,IAH4D,EAIrE8H,mBAAc,MAJuD,mBAIpFC,EAJoF,KAI/EC,EAJ+E,KAKrFC,EAAQjI,iBAAyB,IAAIkI,OACrCC,EAASnI,iBAAe,IAExBoI,EAAO1D,mBAAQ,WAAK,IAAD,EAGf2D,EADM,IAAIC,IAAJ,UAAWhB,EAAQ7H,MAAM,SAAS,GAAG,YAArC,OAAkD6H,IAC5CiB,SAASC,MAAM,KAAKvG,QAAO,SAAAwG,GAAC,OAAEA,KAC1CC,EAAQL,EAAMtB,KAAI,SAAC0B,EAAEnD,GAAH,MAAa,OAAJmD,GAAUnD,KAAIqD,MAAK,SAAAF,GAAC,OAAEA,MAAM,EAGvDG,EAAOP,EAAMM,MAAK,SAACE,EAAEvD,GAAH,OAAOA,IAAIoD,EAAM,MAAM,GACzCI,EAAOJ,EAAQ,EAAIL,EAAM,GAAK,GAC9BU,GAAO,UAAAV,EAAMM,MAAK,SAAAF,GAAC,OAAEA,EAAEhJ,MAAM,kBAAtB,eAAgC+I,MAAM,QAAQ,KAAM,GAGjE,OAFAX,EAAMnH,QAAQsI,KAAMC,SAASL,EAAM,KAE5B,CAACE,OAAMF,OAAMG,SACtB,IACIG,EAAU9F,uBAAY,WACxB,IAAM+F,EAAMtB,EAAMnH,QAAQ,GACpB0I,EAAMvB,EAAMnH,QAAQ0E,OACpBwC,EAAMuB,MAAUC,EAAI,GAAG,IAAIA,EAAI,EAAE,EAAE,GACzC,KAAGA,EAAM3B,GAAYU,EAAOzH,SAG5B,OAFAmH,EAAMnH,QAAQsI,KAAMpB,GAEbI,GAAO,SAACmB,GAAD,mBAAC,eAAeA,GAAhB,IAAqBE,IAAI1B,EAAOC,UAC/C,CAACD,EAAQF,IAoBZ,OAnBArH,qBAAU,WACN,IAAI+H,EAAOzH,QAAX,CAEA,IAAMkH,EAAMC,EAAMnH,QAAQ4I,OAAO,GAAG,IAAMlB,EAAKQ,KACzCS,EAAM1B,EAAOC,GACb2B,EAAOnB,EAAKU,MAAQ,GAC1Bd,EAAO,CAACqB,MAAIE,QACZtB,EAAMvH,QAAQ2I,IAAMA,EACpBpB,EAAMvH,QAAQ8I,OAAS,WACnB,IAAMhH,EAAQyF,EAAMvH,QAAQ8B,MACtBC,EAASwF,EAAMvH,QAAQ+B,OAE7B,GAAID,EAAQ,GAAKC,EAAS,EACtB,OAAOyG,IACXf,EAAOzH,QAAUuH,EAAMvH,QAAQ2I,QAGpC,CAAC1B,EAAQuB,EAASd,EAAlB,OAAwBL,QAAxB,IAAwBA,OAAxB,EAAwBA,EAAKsB,MAEzB,CAACjB,OAAMH,QAAOF,OD3CR0B,CAAUtC,GACjBuC,EAAU1J,kBAAO,GAF4C,EAGxCiD,qBAAU,iBAAK,CAAE0G,MAAM,EAAGvI,EAAE,EAAGC,EAAE,MAHO,0BAG3DsI,EAH2D,EAG3DA,MAAMvI,EAHqD,EAGrDA,EAAEC,EAHmD,EAGnDA,EAAI6B,EAH+C,KAI7DQ,EAAO+C,YAAW,CAACmD,QAAQ,SAACC,GAAD,OAAK3G,EAAI,CAACyG,MAAME,EAAEC,SAAS,IAAI,KAC5DpD,OAAS,YAAmC,IAAjCqD,EAAgC,EAAhCA,KAAgC,gBAA3BhG,SAA2B,GAAjBC,EAAiB,KAAdC,EAAc,KAAVC,EAAU,EAAVA,OAG7B,GAFK,SAAAF,EAAI,GAAJ,SAAMC,EAAI,GAAV,SAAcmD,EAAO,IAAMlD,GAAQA,IACxChB,EAAI,CAAE9B,EAAE2I,EAAK/F,EAAG,EAAG3C,EAAE0I,EAAK9F,EAAG,EAAG0F,OAAQvC,EAAM,EAAEnD,GAAIA,EAAGmD,EAAM,EAAG,IAAI,MAC9DA,EAAM,EAAEnD,GAAIA,EAAGmD,EAAM,GAAIpD,GAAI,KAAK,IAAIA,GAAI+F,IAAOL,EAAQhJ,QAAS,OAAO,KAC/EgJ,EAAQhJ,SAAU,EAClBqC,KAEJiH,QAAU,kBAAIjH,OAEZkH,EAASvF,mBAAQ,iBAAK,CACxBK,IAAI,aAACvC,MAAM,OAAQC,OAAO,OAAQyH,QAAQ,YAAYP,QAAMvI,IAAEC,IAAG8I,OAAO,GAAM5H,GAC9EwF,IAAI,CAACvF,MAAM,OAAQC,OAAO,OAAQ2H,cAAc,QAChDC,KAAK,CAAClE,SAAS,WAAWxD,OAAO,MAAMmE,KAAK,MAAM9F,MAAM,YACzD,CAACuB,EAAMoH,EAAMvI,EAAEC,IAElB,OADAb,QAAQC,IAAI,kBAAmB4G,EAAKU,KAEhC,kBAAC,WAAShD,IAAV,eAAcxC,MAAO0H,EAAOlF,KAASrB,KAChC2D,EAAKU,KAAO,uCAAKxF,MAAO0H,EAAOlC,KAASV,EAAKU,OEpBnD,SAASuC,EAAT,GAA4E,IAA1D7H,EAAyD,EAAzDA,OAAO2E,EAAkD,EAAlDA,MAAMmD,EAA4C,EAA5CA,OAAOzH,EAAqC,EAArCA,QAAQC,EAA6B,EAA7BA,OAAOC,EAAsB,EAAtBA,QAAsB,EACjDC,qBAAU,iBAAO,CAAE0G,MAAM,EAAGvI,EAAE,EAAGC,EAAE,MADc,0BACrEsI,EADqE,EACrEA,MAAMvI,EAD+D,EAC/DA,EAAEC,EAD6D,EAC7DA,EAAK6B,EADwD,KAGxEC,EAAMC,uBAAY,kBAAIF,EAAI,CAACyG,MAAM,IAAIvI,GAAG,GAAGC,GAAG,GAAKf,OAAOA,SAAOiD,UAAW,CAACL,IAC7EvC,EAAMyC,uBAAY,kBAAIF,EAAI,CAACyG,MAAM,EAAIvI,EAAE,EAAIC,EAAE,IAAMf,OAAOA,SAAOkK,aAAW,CAACtH,IAC7EM,EAAMJ,uBAAY,kBAAIF,EAAI,CAACyG,MAAM,EAAIvI,EAAE,EAAIC,EAAE,EAAMf,OAAOA,SAAOiD,UAAW,CAACL,IAE7EQ,EAAO+C,YAAW,CACpBuD,QAAS,kBAFaO,GAAQzH,GAAUE,IAAWQ,MAAUT,IAAUI,MAGvEuD,OAAS,YAAmC,IAAjCqD,EAAgC,EAAhCA,KAAgC,gBAA3BhG,SAA2B,GAAjBC,EAAiB,KAAdC,EAAc,KAAVC,EAAU,EAAVA,OACxB,SAAAF,EAAI,GAAJ,SAAMC,EAAI,GAAV,SAAcmD,EAAO,IAAMlD,GAAQA,IACxChB,EAAI,CAAE9B,EAAE2I,EAAK/F,EAAG,EAAG3C,EAAE0I,EAAK9F,EAAG,EAAE3D,OAAOA,SAAOiD,WAGrDnD,qBAAU,WAAK0C,EAAQnC,IAAQ6C,MAAU,CAACV,EAASnC,EAAO6C,IAC1D,IAAMmB,EAAStD,EAAEuD,IAAG,SAAAC,GAAE,OAAGA,EAAGpC,EAAO,OAAO,UAC1C,OACI,kBAAC,WAASsC,IAAV,eAAczC,UAAU,cAAiBoB,IAAzC,CAAiDnB,MAAO,CAACoC,UAAQgF,QAAMvI,IAAEC,OAAzE,KCrBR,IAAMoJ,EAAS,CAAC,WAAW,WAAW,WAAW,WAAW,WAAW,YAEjEC,EAAM,WAAO,IAAD,EACU5C,mBAAmB,IAD7B,mBACP6C,EADO,KACDC,EADC,OAEU9C,mBAAiB,IAF3B,mBAEPT,EAFO,KAEDwD,EAFC,OAGY/C,mBAAmB,UAAI2C,GAAQ1D,KAAI,SAAA0B,GAAC,8BAAmBA,EAAnB,SAHhD,mBAGPqC,EAHO,KAGAC,EAHA,OAIcjD,oBAAkB,GAJhC,mBAIPyC,EAJO,KAICS,EAJD,OAKgBlD,oBAAkB,GALlC,mBAKPhF,EALO,KAKEmI,EALF,KAMRC,EAAS9H,uBAAY,SAACjD,GAExB,GADAK,QAAQC,IAAI,iBACO,KAAdN,EAAKiF,QAA6B,KAAdjF,EAAKiF,OAA9B,CACA,IAAM+F,EAAuB,KAAdhL,EAAKiF,OAAYjF,EAAKA,EAAKmJ,MAAM,GAC3CqB,EAAK1I,QAAO,SAAAkF,GAAG,OAAEA,IAAMgE,KAAQ/F,QACpCwF,GAAQ,SAAAzB,GAAG,OAAGgC,GAAH,mBAAchC,UAC1B,CAACwB,IACES,EAAUhI,uBAAY,SAAC+D,GAAD,OAAc4D,GAAS,SAAA5B,GAAG,OAAGhC,GAAH,mBAAWgC,SAAM,IACjE1G,EAASnD,OAAO+L,YAAc,GAEpC,OADA7K,QAAQC,IAAR,uBAA4B8J,EAAO,GAAG,MAAtC,kBAAqDzH,EAAQ,GAAG,MAAhE,aAEI,kBAAC,WAAD,KACI,kBAACwH,EAAD,CACIvH,OAAS,kBAAKwH,GAAQS,GAAU,IAChChI,QAAS,kBAAKuH,GAAQS,GAAU,IAChCvI,OAASA,EAAQ2E,MAAO,IAAKmD,OAAQA,EAAQzH,QAASA,IAC1D,kBAAC,EAAD,CACIC,OAAS,kBAAKwH,IAASS,GAAU,GAAOJ,EAAQ,MAChD5H,QAAS,kBAAKuH,GAAQS,GAAU,IAChCvI,OAASA,EAAQK,QAASA,GACzByH,GACG,kBAAC,EAAD,CACI1K,UAAY,SAACI,GAAD,OAAgBgL,EAAWhL,IACvCH,WAAY,SAACK,GAAD,OAAe+K,EAAO/K,MAExCoK,GAAUzH,GACR,kBAACkC,EAAD,CAAQxC,MAAO,IAAKyC,QAAS,EAAG1C,MAAO,CAACE,OAAO,MAAME,OAAO,MAAMmE,KAAK,IACtE6D,EAAK5D,KAAI,SAACI,EAAI7B,GAAL,OACN,kBAAC4B,EAAD,CAAMF,IAAK1B,EAAG6B,IAAKA,EAAKpE,OAAQ,kBAAIwH,IAASS,GAAU,GAAOI,EAAQjE,YAKlF,kBAACnC,EAAD,CAAQxC,MAAO,IAAKyC,QAAS,EAAG1C,MAAO,CAACE,OAAO,MAAMC,IAAI,EAAEoE,KAAK,IAC3DgE,EAAM/D,KAAI,SAACI,EAAI7B,GAAL,OACP,kBAAC4B,EAAD,CAAMF,IAAK1B,EAAG6B,IAAKA,EAAKpE,OAAQ,kBAAI8H,EAAQ1D,UAIpD,yBAAK5E,MAAO,CAAC4D,SAAS,QAAQxD,OAAO,EAAEmE,KAAK,EAAEwE,SAAS,QACnD,0BAAM/I,MAAO,CAACvB,MAAM,UACfqG,GAAQ,kBAACH,EAAD,CAAMC,IAAKE,EAAMtE,OAAQ,kBAAI8H,EAAQ,WAOlEU,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,SPyE3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACL1L,QAAQ0L,MAAMA,EAAMC,c","file":"static/js/main.a911455b.chunk.js","sourcesContent":["// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { useEffect, useRef } from \"react\";\r\nimport config from \"../../config-camera.json\";\r\nimport './Scanner.css'\r\n\r\nconst Quagga = require ('quagga');\r\n\r\ntype ScannerProps = {\r\n    onStarted  :Function,\r\n    onDetected :Function,\r\n}\r\n\r\nexport function Scanner ({onStarted, onDetected}:ScannerProps) {\r\n    const onStartedRef = useRef((bool:boolean)=>onStarted(bool))  // err\r\n    const onDetectedRef  = useRef((code:string)=>onDetected(code))// err\r\n    useEffect (() => {\r\n        Quagga.init(config, (err:any)=> {\r\n            if (err)\r\n                return console.log(err, \"error msg\");\r\n            onStartedRef.current(true)\r\n            Quagga.start()\r\n            console.log('\\t\\t__Scanner Start__');\r\n        })\r\n        return () => {\r\n            Quagga.stop()\r\n            onStartedRef.current(false)\r\n            console.log('\\t\\t~~Scanner Stop~~')\r\n        }\r\n    }, []);\r\n    useEffect(()=>{\r\n        type drawRectProps = { box:any,drawingCtx:any,color?:string,lineWidth?:number }\r\n        const drawRect = ({box,drawingCtx,color=\"green\",lineWidth=2}:drawRectProps) => {\r\n            Quagga.ImageDebug.drawPath(box, {x:0,y:1}, drawingCtx, {color,lineWidth})\r\n        }\r\n        Quagga.onProcessed((result:any) => {\r\n            let drawingCtx = Quagga.canvas.ctx.overlay\r\n            let drawingCanvas = Quagga.canvas.dom.overlay\r\n            if (!result)\r\n                return\r\n            if (result.boxes) {\r\n                drawingCtx.clearRect(0,0,\r\n                    Number(drawingCanvas.getAttribute(\"width\")),\r\n                    Number(drawingCanvas.getAttribute(\"height\"))\r\n                );\r\n                result.boxes\r\n                    .filter( (box:any) => box!==result.box )\r\n                    .forEach( (box:any) => drawRect({box, drawingCtx}) );\r\n            }\r\n            if (result.box) drawRect({box:result.box,drawingCtx,color:\"#00F\"})\r\n            if (!result.codeResult || !result.codeResult.code)\r\n                return\r\n            Quagga.ImageDebug.drawPath(\r\n                result.line, {x:\"x\",y:\"y\"},\r\n                drawingCtx , {color:\"red\",lineWidth:3}\r\n            );\r\n            Quagga.onDetected ((result:any) => onDetectedRef.current(result.codeResult.code) )\r\n        });\r\n    }, [])\r\n    //console.log('\\t\\tScanner Render');\r\n    return <div id=\"interactive\" className=\"viewport\" style={{width:\"100%\",height:\"100%\",top:0,bottom:0}}/>\r\n}\r\n","import React, { useEffect, useCallback, useRef, useMemo } from 'react'\r\nimport { useSpring, animated, config } from 'react-spring'\r\nimport { useDrag } from 'react-use-gesture'\r\nimport './Sheet.css'\r\n\r\ntype SheetProps = {\r\n    height  ?:number\r\n    started ?:boolean,\r\n    onOpen  ?:Function|null,\r\n    onClose ?:Function|null,\r\n    children?:any,\r\n}\r\n\r\nexport function Sheet ({children, height=100, started=false, onOpen=null,onClose=null}:SheetProps) {\r\n    const [{ y }, set] = useSpring(() => ({ y:height }))\r\n    const open=useCallback((canceled=false)=> onOpen&&(onOpen() ,set({ y:0     , config:canceled?config.wobbly:config.stiff }) ),[onOpen, set])\r\n    const close  =useCallback((velocity=0)=> onClose&&(onClose(),set({ y:height, config:{...config.stiff, velocity} }) ),[height, onClose, set])\r\n    const bind = useDrag(\r\n        ({ last, vxvy:[,vy],movement:[mx,my], cancel }) => {\r\n            if (my<-height/3) cancel&&cancel()\r\n            if (last) return ( (my>height*0.5||vy>2.5) && (-100<mx&&mx<100) )? close(vy):open(vy>0)\r\n            set({ y:my, immediate: false, config: config.stiff })\r\n        }, { initial:()=>[0,y.get()], filterTaps:true, bounds:{top:0}, rubberband:true }\r\n    )\r\n    const f = useRef((bool:boolean)=>( bool? open() : close() ))\r\n    useEffect(()=>{ f.current(started) }, [started])\r\n    const style = useMemo(()=>{\r\n        const display = y.to(py => (py < height ? 'block' : 'none'))\r\n        const backgroundColor = 'rgba(0,0,0,0)'\r\n        return {display, backgroundColor, bottom:`calc(-100vh + ${height-100}px)`, y}\r\n    },[height, y])\r\n    //console.log('\\tRender Sheet');\r\n    return (\r\n        <animated.div className=\"sheet\" {...bind()} style={style}>\r\n            {children}\r\n        </animated.div>\r\n    )\r\n}\r\n","// https://codesandbox.io/s/infinite-slideshow-nigoy?file=/src/index.js\r\n\r\nimport React, {useCallback, useRef} from 'react'\r\nimport { useGesture } from 'react-use-gesture'\r\nimport { useSprings, animated } from 'react-spring'\r\n\r\ntype SliderProps = {\r\n    width   ?:number,\r\n    visible ?:number,\r\n    children?:any,\r\n    style   ?:any\r\n}\r\n\r\nexport function Slider ({children, width=600,visible=4,style={}}:SliderProps) {\r\n    const idx = useCallback((x,l=children.length) => (x<0 ? x+l : x) % l, [children])\r\n    const getPos = useCallback((i, firstVis, firstVisIdx) => idx(i - firstVis + firstVisIdx), [idx])\r\n    const [springs, set] = useSprings(children.length, i => ({ x : (i<children.length-1?i:-1)*width }) )\r\n    const prev        = useRef([0, 1])\r\n    const wheelOffset = useRef(0)\r\n    const dragOffset  = useRef(0)\r\n    const runSprings = useCallback((xy, vxy)=>{\r\n        const firstVis = idx(Math.floor(xy / width) % children.length)\r\n        const firstVisIdx = vxy < 0 ? children.length - visible : 0\r\n        set((i:{}) => {\r\n            const position     = getPos(i, firstVis       , firstVisIdx)\r\n            const prevPosition = getPos(i, prev.current[0], prev.current[1])\r\n            const rank = firstVis - (xy<0?children.length:0) + position - firstVisIdx\r\n            const configPos = vxy > 0 ? position : children.length - position\r\n            return {\r\n                x: (-xy % (width * children.length)) + width * rank,\r\n                immediate: vxy < 0 ? prevPosition > position : prevPosition < position,\r\n                config: { tension: (1 + children.length - configPos) * 100, friction: 30 + configPos * 40 }\r\n            }\r\n        })\r\n        prev.current = [firstVis, firstVisIdx]\r\n    }, [idx, getPos, width, visible, set, children.length] )\r\n    const bind = useGesture({\r\n        onDrag :({offset:[x,],vxvy:[vx,]})=>{if(vx){dragOffset.current=-x;runSprings(wheelOffset.current-x, -vx)}},\r\n        onWheel:({offset:[,y],vxvy:[,vy]})=>{if(vy){dragOffset.current= y;runSprings(wheelOffset.current+y,  vy)}},\r\n    })\r\n    //return null\r\n    //console.log('\\t\\tRender Slider');\r\n    return (\r\n        <div {...bind()} style={{position:\"absolute\",bottom:0,left:0,width:\"100%\",height:\"100%\"}}>\r\n          {springs.map(({x}, i) => (\r\n            <animated.div key={i} style={{position:'absolute',x,willChange:'transform',...style}}>\r\n                {children[i]}\r\n            </animated.div>\r\n          ))}\r\n        </div>\r\n    )\r\n}\r\n","import React, { useMemo, useRef } from 'react'\r\nimport { useGesture } from 'react-use-gesture'\r\nimport { useSpring, animated } from 'react-spring'\r\nimport { useAmazon } from '../../src' //'use-amazon'\r\n\r\ntype BookProps = {\r\n    onOpen?:any,\r\n    style?:any,\r\n    url  ?:string,\r\n    limit?:number,\r\n}\r\n\r\nexport function Book ({url='', limit=400, style={}, onOpen}:BookProps) {\r\n    const book = useAmazon(url)\r\n    const canopen = useRef(false)\r\n    const [{scale,x,y}, set] = useSpring(()=>({ scale:1, x:0, y:0 }))\r\n    const bind = useGesture({onHover:(e)=>set({scale:e.hovering?1.1:1}),\r\n        onDrag : ({down,movement:[mx,my],cancel})=>{\r\n            if ((mx**2+my**2 > limit**2) && cancel) cancel()\r\n            set({ x:down?mx:0, y:down?my:0, scale:(-limit/2<my&&my<limit/2)?1.2:0.8 })\r\n            if ((-limit/2<my&&my<limit/2)||mx<-100||100<mx||down||!canopen.current) return null\r\n            canopen.current = false // err\r\n            onOpen()\r\n        },\r\n        onClick : ()=>onOpen()\r\n    })\r\n    const styles = useMemo(()=>({\r\n        div:{width:\"auto\", height:\"100%\", padding:\"50px 50px\",scale,x,y, zIndex:1, ...style} as React.CSSProperties,\r\n        img:{width:\"auto\", height:\"100%\", pointerEvents:\"none\"} as React.CSSProperties,\r\n        span:{position:\"absolute\",bottom:\"1em\",left:\"3em\",color:\"white\"} as React.CSSProperties,\r\n    }),[style,scale,x,y])\r\n    console.log('\\t\\tRender Book', book.img);\r\n    return (\r\n        <animated.div style={styles.div} {...bind()}>\r\n            {book.img && <img style={styles.img} {...book.img}/>}\r\n        </animated.div>\r\n    )\r\n}\r\n","import { useCallback, useState, useEffect, useMemo, useRef  } from 'react'\r\ntype PropsType = {\r\n    size?:string,\r\n    isssl?:boolean,\r\n    searches?:number,\r\n}\r\nexport function useAmazon (urltext='', {size='LZZZZZZZ',isssl=false,searches=10}:PropsType={}) {\r\n    const host = useMemo(()=>`${ isssl?'images-na.ssl-images-':'images-jp.' }amazon.com`,[isssl])\r\n    const getsrc = useCallback((num:number|string)=>`http://${host}/images/P/${num}.09.${size}`,[host,size])\r\n    const isbns = useRef<number[]>([])                       // TO CALC NEXT SRC!\r\n    const [img, setImg] = useState<any>(null)                  // RETURN MAIN OBJ\r\n    const image = useRef<HTMLImageElement>(new Image())\r\n    const srcRef = useRef<string>('')\r\n    //const urlRef = useRef<string>(urltext)\r\n    const path = useMemo(()=>{\r\n        //const url = new URL(`${urlRef.current.match('https')?'':'https://'}${urlRef.current}`)\r\n        const url = new URL(`${urltext.match('https')?'':'https://'}${urltext}`)\r\n        const paths = url.pathname.split('/').filter(v=>v)\r\n        const index = paths.map((v,i) => v==='dp'&&i ).find(v=>v) || 0\r\n        //const dpid = paths.find((_,i)=>i===index+1) || ''\r\n        //const asin = ''//dpid[0]==='B' ? paths.find((_,i)=>i===index+1) :''\r\n        const isbn = paths.find((_,i)=>i===index+1) || ''\r\n        const name = index > 0 ? paths[0] : ''\r\n        const ref  = paths.find(v=>v.match('ref='))?.split('ref=')[1] || ''\r\n        isbns.current.push( parseInt(isbn, 10) )\r\n        //console.log('\\t__useMemo path__', isbn);\r\n        return {name, isbn, ref}\r\n    },[])\r\n    const onError = useCallback(()=>{\r\n        const pre = isbns.current[0]\r\n        const len = isbns.current.length\r\n        const num = pre + ~~((len+1)/2)*(len%2*2-1)\r\n        if(len > searches || srcRef.current) return                // OVERFLOW !\r\n        isbns.current.push( num )\r\n        //console.log('\\t\\t\\t~~onError~~', num)\r\n        return setImg((pre:any)=>({...pre, src:getsrc(num)}))\r\n    }, [getsrc, searches])\r\n    useEffect(()=>{\r\n        if (srcRef.current)\r\n            return //console.log('useEffect interupt', srcRef.current)\r\n        const num = isbns.current.slice(-1)[0] || path.isbn\r\n        const src = getsrc(num)\r\n        const alt =  path.name || ''\r\n        setImg({src,alt})//init\r\n        image.current.src = src\r\n        image.current.onload = () => {\r\n            const width = image.current.width\r\n            const height = image.current.height\r\n            //console.log('\\t__onLoad__', width, height);\r\n            if (width < 2 || height < 2)\r\n                return onError()\r\n            srcRef.current = image.current.src                     // FINISHED !\r\n        }\r\n        //console.log('\\t__useEffect__ setImg', num)\r\n    }, [getsrc, onError, path, img?.src])\r\n    //console.log('\\tRender useAmazon',isbns.current);\r\n    return {path, image, img}\r\n}\r\n\r\n/*\r\nconst getCorrectURL = useCallback((detectedNum:number, searchesNum:number)=>{\r\n    const xhr = new XMLHttpRequest();\r\n    const url = [...Array(searchesNum)].map((_,i)=>{\r\n        const tryNum = detectedNum+~~(i/2)*(i%2*2-1)\r\n        const tryURL = `http://${host}/images/P/${tryNum}`\r\n        xhr.open(\"HEAD\", tryURL, false);\r\n        xhr.send(null);\r\n        return xhr.status<201? tryURL:false//false\r\n    }).filter(v=>v)[0]\r\n    return url\r\n}, [])*/\r\n","import React, {useEffect, useCallback} from 'react'\r\n//import { Spring } from 'react-spring/renderprops'\r\nimport { useSpring, animated, config } from 'react-spring'\r\nimport { useGesture } from 'react-use-gesture'\r\n\r\ntype ButtonProps = {\r\n    height:number,\r\n    limit :number,\r\n    opened :boolean,\r\n    started:boolean,\r\n    onOpen :Function,\r\n    onClose:Function,\r\n}\r\n\r\nexport function Button ({height,limit,opened,started,onOpen,onClose}:ButtonProps) {\r\n    const [{ scale,x,y }, set] = useSpring(() => ({ scale:1, x:0, y:0 }))\r\n    //const start  =()=>set({y:10  , config:config.stiff })\r\n    const open =useCallback(()=>set({scale:1.5,x:-25,y:-25 , config:config.stiff })  ,[set])\r\n    const start=useCallback(()=>set({scale:1  ,x:0  ,y:+100, config:config.molasses}),[set])\r\n    const close=useCallback(()=>set({scale:1  ,x:0  ,y:0   , config:config.stiff })  ,[set])\r\n    const toggle=()=>{return (opened&&started)?(onClose(), close()):(onOpen(), open())}\r\n    const bind = useGesture({\r\n        onClick: ()=>toggle(),\r\n        onDrag : ({down,movement:[mx,my],cancel})=>{\r\n            if ((mx**2+my**2 > limit**2) && cancel) cancel()\r\n            set({ x:down?mx:0, y:down?my:0,config:config.stiff })\r\n        }\r\n    })\r\n    useEffect(()=>{started?start():close()}, [started, start, close])\r\n    const display= y.to(py=>(py<height?'flex':'none'))\r\n    return (\r\n        <animated.div className=\"action-btn\" {...bind()} style={{display,scale,x,y}}>\r\n            +</animated.div>\r\n    )\r\n}\r\n","import React, { Fragment, useCallback, useState } from 'react'\nimport ReactDOM from 'react-dom'\n//import { Spring } from 'react-spring/renderprops'\nimport './styles.css'\nimport { unregister } from './serviceWorker'\nimport { Scanner, Sheet, Slider } from '../src'//'use-amazon'\nimport { Book, Button } from './components'\n\n//const items1 = [4041013379,4041013381]//[...Array(3)].map((_,i)=>4041013378+i) // typescript 0~9\n//const items1 = [4041013380,4041002872,4041315224,4041067949,4041366059,4041245255]//角川 false\nconst items2 = [4041013380,4041002877,4041315220,4041067944,4041366054,4041245257]  //角川 true\n\nconst App = () => {\n    const [urls, setUrls] = useState<string[]>([])//([...items2].map(v=>`amazon.com/dp/${v}/`))\n    const [book, setBook] = useState<string>('')\n    const [books, setBooks] = useState<string[]>([...items2].map(v=>`amazon.com/dp/${v}/`))\n    const [opened, setOpened] = useState<boolean>(false); // sheet stil opened\n    const [started, setStarted] = useState<boolean>(false); // quagga stil inited ?\n    const addURL = useCallback((code:string)=>{\n        console.log('Index add URL');\n        if ( code.length!==10 && code.length!==13 ) return\n        const newURL = code.length===10?code:code.slice(3)\n        if ( urls.filter(url=>url===newURL).length ) return\n        setUrls(pre=>[newURL, ...pre])\n    }, [urls])\n    const addBook = useCallback((url:string)=>setBooks(pre=>[url, ...pre]),[])\n    const height = window.innerHeight - 60\n    console.log(`Index Render ${opened?'':'no '}opened ${started?'':'no '} started`);\n    return (\n        <Fragment>\n            <Button\n                onOpen ={()=>!opened&&setOpened(true)  }//,setStarted(false))}\n                onClose={()=> opened&&setOpened(false) }//,setStarted(false))}\n                height ={height} limit={200} opened={opened} started={started}/>\n            <Sheet\n                onOpen ={()=>!opened&&(setOpened(true), setUrls([]))}\n                onClose={()=> opened&&setOpened(false) }\n                height ={height} started={started} >\n                {opened &&\n                    <Scanner\n                        onStarted ={(bool:boolean)=>setStarted(bool)}\n                        onDetected={(code:string)=>addURL(code)}/>\n                }\n                {(opened && started)&&\n                    <Slider width={200} visible={5} style={{height:\"25%\",bottom:\"25%\",left:0,}}>\n                    {urls.map((url,i)=>\n                        <Book key={i} url={url} onOpen={()=>opened&&(setOpened(false),addBook(url))}/>\n                    )}\n                    </Slider>\n                }\n            </Sheet>\n            <Slider width={200} visible={5} style={{height:\"50%\",top:0,left:0,}}>\n                {books.map((url,i)=>\n                    <Book key={i} url={url} onOpen={()=>setBook(url)}/>\n                )}\n            </Slider>\n            {/*debug*/}\n            <div style={{position:\"fixed\",bottom:0,left:0,fontSize:\"2em\"}}>\n                <span style={{color:\"white\"}}>\n                    {book && <Book url={book} onOpen={()=>setBook('')}/>}\n                </span>\n            </div>\n        </Fragment>\n    )\n}\n\nReactDOM.render(<App />, document.getElementById('root'))\nunregister();\n"],"sourceRoot":""}